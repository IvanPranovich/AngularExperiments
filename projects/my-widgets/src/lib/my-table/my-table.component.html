<table class="table table-striped">
  <caption><h1>My Super Table in {{ getMode() }}</h1></caption>
  <thead>
    <tr>
      <th *ngFor="let column of columns; let colNumber = index" [ngClass] = "{ 'sorting': isSorting(colNumber), 'sorting_asc': isSortAsc(colNumber), 'sorting_desc': isSortDesc(colNumber) }" >
        <div (dblclick)="toggleSearchBox(colNumber)" (click)="sortClick(colNumber)"><span>{{ column.caption }}</span></div>
        <div *ngIf="isSearchCaption[colNumber]"><p><input #searchBox (input)="search(searchBox.value, colNumber)"/></p></div>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let row of pagedItems; let rowNumber = index">
      <td *ngFor="let column of columns; let colNumber = index">
        <lib-my-table-cell 
          [cellType]="column.cellType" 
          [initialValue]="row[colNumber]" 
          (cellValueChange)='tableValueChanged(rowNumber, colNumber, $event)' 
          [isReadOnly]='column.isReadOnly' 
          [additionalValues]='column.additionalValues'
          [isEditMode]="isEditMode">
        </lib-my-table-cell>
      </td>
    </tr>
  </tbody>
  <div>
      <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
        <li [ngClass]="{disabled:pager.currentPage === 1}">
            <a (click)="setPage(1)">First</a>
        </li>
        <li [ngClass]="{disabled:pager.currentPage === 1}">
            <a (click)="setPage(pager.currentPage - 1)">Previous</a>
        </li>
        <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
            <a (click)="setPage(page)">{{page}}</a>
        </li>
        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
            <a (click)="setPage(pager.currentPage + 1)">Next</a>
        </li>
        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
            <a (click)="setPage(pager.totalPages)">Last</a>
        </li>
      </ul>
  </div>
</table>
